---
import Layout from "~/layouts/Layout.astro";
import Header from "~/components/Header.astro";
import { getCollection } from "astro:content";
import Blog from "~/components/Blog.astro";

const posts = (await getCollection("blog")).sort(
  (a, b) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf(),
);

const title = "Blog | Kevin Zuniga Cuellar";
const description =
  "My personal collection of code snippets, starter guides, tutorials and interesting things I found online.";
---

<Layout title={title} description={description}>
  <Header title="Blog" />
  <p class="mb-10 max-w-prose leading-relaxed font-normal">
    {description}
  </p>
  <ul class="grid grid-cols-1 gap-8">
    {posts.map((p) => <Blog {...p} />)}
  </ul>
</Layout>
